{"ast":null,"code":"import _defineProperty from\"D:/LEARN PROGRAMME/WEATHER APP REACT/magical-shopper/my-magical-project/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/LEARN PROGRAMME/WEATHER APP REACT/magical-shopper/my-magical-project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/LEARN PROGRAMME/WEATHER APP REACT/magical-shopper/my-magical-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useState}from\"react\";import all_product from\"../Components/Assets/all_product\";import{jsx as _jsx}from\"react/jsx-runtime\";export var ShopContext=/*#__PURE__*/createContext(null);var getDefaultCart=function getDefaultCart(){var cart={};for(var index=0;index<all_product.length+1;index++){cart[index]=0;}return cart;};var ShopContextProvider=function ShopContextProvider(props){var _useState=useState(getDefaultCart()),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];var addToCart=function addToCart(itemId){setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,prev[itemId]+1));});console.log(cartItems);};var removeFromCart=function removeFromCart(itemId){setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,prev[itemId]-1));});};var getTotalCartAmount=function getTotalCartAmount(){var totalAmount=0;var _loop=function _loop(item){if(cartItems[item]>0){var itemInfo=all_product.find(function(product){return product.id===Number(item);});totalAmount+=cartItems[item]*itemInfo.new_price;}};for(var item in cartItems){_loop(item);}return totalAmount;};var getTotalCartItems=function getTotalCartItems(){var totalItem=0;for(var item in cartItems){if(cartItems[item]>0){totalItem+=cartItems[item];}}return totalItem;};var contextValue={getTotalCartItems:getTotalCartItems,getTotalCartAmount:getTotalCartAmount,all_product:all_product,cartItems:cartItems,addToCart:addToCart,removeFromCart:removeFromCart};return/*#__PURE__*/_jsx(ShopContext.Provider,{value:contextValue,children:props.children});};export default ShopContextProvider;","map":{"version":3,"names":["React","createContext","useState","all_product","jsx","_jsx","ShopContext","getDefaultCart","cart","index","length","ShopContextProvider","props","_useState","_useState2","_slicedToArray","cartItems","setCartItems","addToCart","itemId","prev","_objectSpread","_defineProperty","console","log","removeFromCart","getTotalCartAmount","totalAmount","_loop","item","itemInfo","find","product","id","Number","new_price","getTotalCartItems","totalItem","contextValue","Provider","value","children"],"sources":["D:/LEARN PROGRAMME/WEATHER APP REACT/magical-shopper/my-magical-project/src/Context/ShopContext.jsx"],"sourcesContent":["import React, { createContext, useState } from \"react\";\r\nimport all_product from \"../Components/Assets/all_product\";\r\n\r\nexport const ShopContext =  createContext(null);\r\n\r\nconst getDefaultCart = ()=>{\r\n    let cart = {};\r\n    for (let index = 0; index < all_product.length+1; index++) {\r\n        cart[index] = 0;\r\n    }\r\n    return cart;\r\n}\r\n\r\nconst ShopContextProvider = (props) => {\r\n\r\n    const [cartItems,setCartItems] = useState(getDefaultCart());\r\n    \r\n    \r\n    const addToCart = (itemId) =>{\r\n        setCartItems((prev)=>({...prev,[itemId]:prev[itemId]+1}));\r\n        console.log(cartItems);\r\n    }\r\n\r\n    const removeFromCart = (itemId) =>{\r\n        setCartItems((prev)=>({...prev,[itemId]:prev[itemId]-1}))\r\n    }\r\n    \r\n    const getTotalCartAmount = () => {\r\n        let totalAmount = 0;\r\n        for (const item in cartItems) {\r\n          if (cartItems[item] > 0) {\r\n            let itemInfo = all_product.find((product) => product.id === Number(item));\r\n            totalAmount += cartItems[item] * itemInfo.new_price;\r\n          }\r\n        }\r\n        return totalAmount;\r\n      }\r\n\r\n      const getTotalCartItems = () =>{\r\n        let totalItem = 0;\r\n        for(const item in cartItems)\r\n        {\r\n            if(cartItems[item]>0)\r\n            {\r\n                totalItem+= cartItems[item];\r\n            }\r\n        }\r\n        return totalItem;\r\n      }\r\n\r\n    const contextValue = {getTotalCartItems,getTotalCartAmount,all_product,cartItems,addToCart,removeFromCart};\r\n    return (\r\n        <ShopContext.Provider value={contextValue}>\r\n            {props.children}\r\n        </ShopContext.Provider>\r\n    )\r\n}\r\n\r\nexport default ShopContextProvider;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}